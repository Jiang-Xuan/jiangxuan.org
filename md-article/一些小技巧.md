# 玩代码之如何自定义trminal提示符

Linux的终端提示符分为四种：

1. PS1 默认提示符，使用最多的，一般进入终端就是显示PS1,`jiangxuandeMBP:yuantu jiangxuan`
2. PS2 如果一个命令特别长，可以通过在末尾加“\”使其分行显示，PS2就是控制如何显示长命令换行提示符， 默认为`>`
3. PS3 
4. PS4 

首先来自定义PS1

* 进入`~`目录，`vim .bash_profile`，有该文件就直接编辑，没有就新建
* 键入shell代码 `source ./.bash_rc`，保存退出
* 现在`vim .bash_rc`，同样，有该文件就在之后编辑，没有新建
* 键入`PS1='PS1'`，保存退出，然后`source ./.bash_rc`
* 现在的提示符就变成了`PS1`字符

自定义PS1来显示当前处于git的哪一个分支上面

* `vim ~/.bash_rc`
* 键入以下代码


		function git_branch() {
			# 执行git branch获取当前目录下面的git分支信息
			# 我们并不要保存这些信息，所以投入Linux黑洞
			# 然后用流编辑器sed来处理我们获取的信息
			# -e选项表示我们会有多个命令处理该字符串
			# '/^[^*]/d' 表示我们要删除开头不是*的行
			# http://baiy.cn/utils/_regex_doc/index.htm 正则的资源
			# 's/* \(.*\)/ (\1)' 替换模式，将整个字符串替换成正则匹配的子字符串
			git branch 2> /etc/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'
		}
		# 定义PS1的显示模式
		# 系统预定义的一些变量
		# \d ：代表日期，格式为 Weekday Month Date，例如 "Mon Aug 1"
		# \H ：完整的主机名称。举例来说，鸟哥的练习机 linux.dmtsai.tw ，那么这个主机名称就是 linux.dmtsai.tw 
		# \h ：仅取主机名称的第一个名字。以上述来讲，就是 linux 而已， .dmtsai.tw 被省略。
		# \t ：显示时间，为 24 小时格式，如： HH:MM:SS
		# \T ：显示时间，12 小时的时间格式！
		# \A ：显示时间，24 小时格式， HH:MM
		# \u ：目前使用者的账号名称
		# \v ：BASH 的版本信息
		# \w ：完整的工作目录名称。家目录会以 ~ 取代；
		# \W ：利用 basename 取得工作目录名称，所以仅会列出最后一个目录名。
		# \$ ：提示字符，如果是 root 时，提示字符为 # ，否则就是 $ 。
		# $(function_name)来执行函数取得返回值，shell函数如果没有指定return 会以最后一条命令的执行结果为结果返回
		# \e[31;1m和\[\e[0m\] 是用来设置中间的字符串的显示颜色
		# 提示符有点长，我们想要在下一行进行输入，所以把PS1换个行
		#
		PS1='\h:\W \u \e[31;1m$(git_branch)\[\e[0m\]
		$ '


* `source ~/.bash_rc`

以上代码涉及的资源：

1. [sed流编辑器怎么使用](#)
2. [mac终端的显示效果](#)
3. [shell编程之函数](#)

如何用`terminal`来输出`utf-8`字符串？
<http://stackoverflow.com/questions/602912/how-do-you-echo-a-4-digit-unicode-character-in-bash>

**emoji官网**
<http://www.iemoji.com/>
